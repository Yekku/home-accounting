<div class="title-block">
  <h3 class="title pull-left">
    History Page <span class="sparkline bar"></span>
  </h3>
  <div class="pull-right">
    <button class="btn-sm btn btn-primary-outline" (click)="openFilter()">
      <i class="fa fa-filter"></i>
    </button>
  </div>
</div>

@if (!isLoaded) {
  <div class="text-center"><app-loader></app-loader></div>
} @else {
  <app-history-chart [data]="chartData"></app-history-chart>
  <app-history-events [categories]="categories" [events]="filteredEvents"></app-history-events>
  @if (isFilterVisible) {
    <app-history-filter
      (onFilterApply)="onFilterApply($event)"
      (onFilterCancel)="onFilterCancel()"
      [categories]="categories"
    ></app-history-filter>
  }
}
