<p class="text-xs-center">Login Page</p>
@if (message.text) {
  <div @fade class="alert alert-{{ message.type }}">
    {{ message.text }}
  </div>
}

<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <div
    class="form-group"
    [ngClass]="{ 'has-error': form.get('email')!.invalid && form.get('email')!.touched }"
  >
    <label for="email">Email</label>
    <input
      type="text"
      class="form-control underlined"
      id="email"
      placeholder="Enter email"
      formControlName="email"
    />
    @if (form.get('email')!.invalid && form.get('email')!.touched) {
      <span class="form-help-text">
        @if (form.get('email')!.errors?.['required']) {
          <span>Required field! </span>
        }
        @if (form.get('email')!.errors?.['email']) {
          <span>Enter correct email. </span>
        }
      </span>
    }
  </div>
  <div
    class="form-group"
    [ngClass]="{ 'has-error': form.get('password')!.invalid && form.get('password')!.touched }"
  >
    <label for="password">Password</label>
    <input
      type="password"
      class="form-control underlined"
      id="password"
      placeholder="Password"
      formControlName="password"
    />
    @if (form.get('password')!.invalid && form.get('password')!.touched) {
      <span class="form-help-text">
        @if (form.get('password')!.errors?.['required']) {
          <span>Required field. </span>
        }
        @if (form.get('password')!.errors?.['minlength']) {
          <span>
            Password must be at least
            {{ form.get('password')!.errors?.['minlength']?.['requiredLength'] }}
            characters. Now {{ form.get('password')!.errors?.['minlength']?.['actualLength'] }}.
          </span>
        }
      </span>
    }
  </div>
  <div class="form-group">
    <button type="submit" class="btn btn-block btn-primary" [disabled]="form.invalid">Login</button>
  </div>
  <div class="form-group">
    <p class="text-muted text-xs-center">
      No account? <a [routerLink]="'/registration'">Registration!</a>
    </p>
  </div>
</form>
